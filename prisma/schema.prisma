generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String?
  password  String
  role      String   @default("OWNER")
  createdAt DateTime @default(now())
}

model Blog {
  id        Int      @id @default(autoincrement())
  title     String
  slug      String   @unique
  excerpt   String?
  content   String // store HTML or markdown (if using rich editor)
  published Boolean  @default(true)
  coverUrl  String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum ProjectCategory {
  FULLSTACK
  FRONTEND
  BACKEND
}

model Project {
  id Int @id @default(autoincrement())

  // Basic Info
  title            String
  slug             String @unique
  shortDescription String // For cards / previews
  description      String // Full project description

  // Project Content
  features    String[] // Key features list
  challenges  String? // Optional
  futurePlans String? // Optional improvements

  // Classification
  category     ProjectCategory @default(FULLSTACK)
  technologies String[] // React, Node, PostgreSQL etc.

  // Links
  liveUrl         String? // Live deployed site
  frontendRepoUrl String? // GitHub frontend
  backendRepoUrl  String? // GitHub backend
  repositoryUrl   String? // For single-repo projects

  // Media
  thumbnailUrl  String // Card image
  coverImageUrl String? // Project details page banner
  videoUrl      String? // Demo video (YouTube/Vimeo)
  imageAltText  String

  // Meta
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
